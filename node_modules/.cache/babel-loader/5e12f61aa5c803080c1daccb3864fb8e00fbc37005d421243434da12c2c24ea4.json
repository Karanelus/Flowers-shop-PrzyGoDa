{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from \"react\";\nexport const CART_RENDER_ACTION_TYPE = {\n  ADDING_NEW_POS: \"ADDING_NEW_POS\",\n  REMOVE_POSITION: \"REMOVE_POSITION\",\n  CHANGE_QUANTITY: \"CHANGE_QUANTITY\",\n  ZEROING_CART: \"ZEROING_CART\"\n};\nexport const cartOrderRenderState = [];\nexport const cartOrderRenderReduser = (state, action) => {\n  _s();\n  const {\n    cartValue,\n    setCartValue\n  } = useContext(CartItemsContext);\n  switch (action.type) {\n    case CART_RENDER_ACTION_TYPE.ADDING_NEW_POS:\n      {\n        return [...state, {\n          id: action.cart_Object.id,\n          quantity: {\n            ...action.cart_Object.quantity\n          }\n        }];\n      }\n    case CART_RENDER_ACTION_TYPE.CHANGE_QUANTITY:\n      {\n        var _state$find;\n        const abcd = (_state$find = state.find(itm => itm.id === action.cart_Object.id)) === null || _state$find === void 0 ? void 0 : _state$find.quantity;\n        return [...state.map(item => {\n          if (item.id === action.cart_Object.id) {\n            return {\n              ...item,\n              quantity: {\n                ...abcd,\n                [action.cart_Object.quantity]: abcd[action.cart_Object.quantity] + 1\n              }\n            };\n          } else {\n            return item;\n          }\n        })];\n      }\n    case CART_RENDER_ACTION_TYPE.REMOVE_POSITION:\n      {\n        var _state$find2;\n        let kkk;\n        (_state$find2 = state.find(el => el.id === action.id)) === null || _state$find2 === void 0 ? void 0 : _state$find2.quantity.map((el, id) => {\n          kkk += el[id];\n        });\n        setCartValue(cartValue - kkk);\n        kkk = 0;\n        return state.filter((el, id) => {\n          return id !== state.indexOf(state.find(el => el.id === action.id));\n        });\n      }\n    case CART_RENDER_ACTION_TYPE.ZEROING_CART:\n      {\n        return state = [];\n      }\n    default:\n      return state;\n  }\n};\n_s(cartOrderRenderReduser, \"hqXnje55Gbn9u0CT+xxNT+Wlj6A=\");","map":{"version":3,"names":["useContext","CART_RENDER_ACTION_TYPE","ADDING_NEW_POS","REMOVE_POSITION","CHANGE_QUANTITY","ZEROING_CART","cartOrderRenderState","cartOrderRenderReduser","state","action","_s","cartValue","setCartValue","CartItemsContext","type","id","cart_Object","quantity","_state$find","abcd","find","itm","map","item","_state$find2","kkk","el","filter","indexOf"],"sources":["E:/Sites/react/test-app/src/components/cartOrderRender/cartOrderRender.js"],"sourcesContent":["import { useContext } from \"react\";\r\n\r\nexport const CART_RENDER_ACTION_TYPE = {\r\n  ADDING_NEW_POS: \"ADDING_NEW_POS\",\r\n  REMOVE_POSITION: \"REMOVE_POSITION\",\r\n  CHANGE_QUANTITY: \"CHANGE_QUANTITY\",\r\n  ZEROING_CART: \"ZEROING_CART\",\r\n};\r\n\r\nexport const cartOrderRenderState = [];\r\n\r\nexport const cartOrderRenderReduser = (state, action) => {\r\n  const { cartValue, setCartValue } = useContext(CartItemsContext);\r\n\r\n  switch (action.type) {\r\n    case CART_RENDER_ACTION_TYPE.ADDING_NEW_POS: {\r\n      return [\r\n        ...state,\r\n        {\r\n          id: action.cart_Object.id,\r\n          quantity: { ...action.cart_Object.quantity },\r\n        },\r\n      ];\r\n    }\r\n\r\n    case CART_RENDER_ACTION_TYPE.CHANGE_QUANTITY: {\r\n      const abcd = state.find(\r\n        (itm) => itm.id === action.cart_Object.id\r\n      )?.quantity;\r\n      return [\r\n        ...state.map((item) => {\r\n          if (item.id === action.cart_Object.id) {\r\n            return {\r\n              ...item,\r\n              quantity: {\r\n                ...abcd,\r\n                [action.cart_Object.quantity]:\r\n                  abcd[action.cart_Object.quantity] + 1,\r\n              },\r\n            };\r\n          } else {\r\n            return item;\r\n          }\r\n        }),\r\n      ];\r\n    }\r\n\r\n    case CART_RENDER_ACTION_TYPE.REMOVE_POSITION: {\r\n      let kkk;\r\n      state\r\n        .find((el) => el.id === action.id)\r\n        ?.quantity.map((el, id) => {\r\n          kkk += el[id];\r\n        });\r\n      setCartValue(cartValue - kkk);\r\n      kkk = 0;\r\n\r\n      return state.filter((el, id) => {\r\n        return id !== state.indexOf(state.find((el) => el.id === action.id));\r\n      });\r\n    }\r\n\r\n    case CART_RENDER_ACTION_TYPE.ZEROING_CART: {\r\n      return (state = []);\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,OAAO;AAElC,OAAO,MAAMC,uBAAuB,GAAG;EACrCC,cAAc,EAAE,gBAAgB;EAChCC,eAAe,EAAE,iBAAiB;EAClCC,eAAe,EAAE,iBAAiB;EAClCC,YAAY,EAAE;AAChB,CAAC;AAED,OAAO,MAAMC,oBAAoB,GAAG,EAAE;AAEtC,OAAO,MAAMC,sBAAsB,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAAAC,EAAA;EACvD,MAAM;IAAEC,SAAS;IAAEC;EAAa,CAAC,GAAGZ,UAAU,CAACa,gBAAgB,CAAC;EAEhE,QAAQJ,MAAM,CAACK,IAAI;IACjB,KAAKb,uBAAuB,CAACC,cAAc;MAAE;QAC3C,OAAO,CACL,GAAGM,KAAK,EACR;UACEO,EAAE,EAAEN,MAAM,CAACO,WAAW,CAACD,EAAE;UACzBE,QAAQ,EAAE;YAAE,GAAGR,MAAM,CAACO,WAAW,CAACC;UAAS;QAC7C,CAAC,CACF;MACH;IAEA,KAAKhB,uBAAuB,CAACG,eAAe;MAAE;QAAA,IAAAc,WAAA;QAC5C,MAAMC,IAAI,IAAAD,WAAA,GAAGV,KAAK,CAACY,IAAI,CACpBC,GAAG,IAAKA,GAAG,CAACN,EAAE,KAAKN,MAAM,CAACO,WAAW,CAACD,EAAE,CAC1C,cAAAG,WAAA,uBAFYA,WAAA,CAEVD,QAAQ;QACX,OAAO,CACL,GAAGT,KAAK,CAACc,GAAG,CAAEC,IAAI,IAAK;UACrB,IAAIA,IAAI,CAACR,EAAE,KAAKN,MAAM,CAACO,WAAW,CAACD,EAAE,EAAE;YACrC,OAAO;cACL,GAAGQ,IAAI;cACPN,QAAQ,EAAE;gBACR,GAAGE,IAAI;gBACP,CAACV,MAAM,CAACO,WAAW,CAACC,QAAQ,GAC1BE,IAAI,CAACV,MAAM,CAACO,WAAW,CAACC,QAAQ,CAAC,GAAG;cACxC;YACF,CAAC;UACH,CAAC,MAAM;YACL,OAAOM,IAAI;UACb;QACF,CAAC,CAAC,CACH;MACH;IAEA,KAAKtB,uBAAuB,CAACE,eAAe;MAAE;QAAA,IAAAqB,YAAA;QAC5C,IAAIC,GAAG;QACP,CAAAD,YAAA,GAAAhB,KAAK,CACFY,IAAI,CAAEM,EAAE,IAAKA,EAAE,CAACX,EAAE,KAAKN,MAAM,CAACM,EAAE,CAAC,cAAAS,YAAA,uBADpCA,YAAA,CAEIP,QAAQ,CAACK,GAAG,CAAC,CAACI,EAAE,EAAEX,EAAE,KAAK;UACzBU,GAAG,IAAIC,EAAE,CAACX,EAAE,CAAC;QACf,CAAC,CAAC;QACJH,YAAY,CAACD,SAAS,GAAGc,GAAG,CAAC;QAC7BA,GAAG,GAAG,CAAC;QAEP,OAAOjB,KAAK,CAACmB,MAAM,CAAC,CAACD,EAAE,EAAEX,EAAE,KAAK;UAC9B,OAAOA,EAAE,KAAKP,KAAK,CAACoB,OAAO,CAACpB,KAAK,CAACY,IAAI,CAAEM,EAAE,IAAKA,EAAE,CAACX,EAAE,KAAKN,MAAM,CAACM,EAAE,CAAC,CAAC;QACtE,CAAC,CAAC;MACJ;IAEA,KAAKd,uBAAuB,CAACI,YAAY;MAAE;QACzC,OAAQG,KAAK,GAAG,EAAE;MACpB;IAEA;MACE,OAAOA,KAAK;EAAC;AAEnB,CAAC;AAACE,EAAA,CA1DWH,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}