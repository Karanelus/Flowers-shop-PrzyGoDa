{"ast":null,"code":"import _slicedToArray from\"E:/Sites/react/Flowers-shop-PrzyGoDa-/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{CartItemsContext}from\"../../../context/CartContext\";import{ObjectContext}from\"../../../context/ObjectContext\";import flowers from\"../../flowerslist/flowersList\";import{useState,useContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ConfirmPage=function ConfirmPage(){var _useContext=useContext(CartItemsContext),setSmrOpenTrue=_useContext.setSmrOpenTrue,cartValue=_useContext.cartValue;var _useContext2=useContext(ObjectContext),cartRender=_useContext2.cartRender;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),scrollTopProve=_useState2[0],setScrollTopProve=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),scrollDownProve=_useState4[0],setScrollDownProve=_useState4[1];var toggleButtonClose=function toggleButtonClose(){setSmrOpenTrue(function(prev){return!prev;});};var toggleButtonAsseptOrder=function toggleButtonAsseptOrder(){document.querySelector(\"dialog\").showModal();toggleButtonClose();};var toggleOrderScroll=function toggleOrderScroll(e){var htmlFontSize=document.querySelector(\"html\");var bottomOfScroll=parseInt(window.getComputedStyle(htmlFontSize,null).getPropertyValue(\"font-size\"))*20*(cartRender.length-1);e.target.scrollTop<=20?setScrollTopProve(true):setScrollTopProve(false);e.target.scrollTop>=bottomOfScroll?setScrollDownProve(true):setScrollDownProve(false);};return/*#__PURE__*/_jsx(\"section\",{className:\"flower-assept\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flower-assept__container\",\"data-length_proove\":cartRender.length>1?true:false,\"data-ontop\":scrollTopProve,\"data-onbottom\":scrollDownProve,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Asseption page\"}),/*#__PURE__*/_jsx(\"section\",{className:\"flower-assept__container--order\",onScroll:toggleOrderScroll,children:cartRender.map(function(item){var quantitySrt=item.quantity;var itemSearchSrt=flowers.find(function(it){return it.id===item.id;});var nmFlowersSrt=Object.keys(quantitySrt||{});var nmbDeletingItems=0;var nmbDecrisingCost=0;Object.entries(quantitySrt).forEach(function(el){var _flowers$find;nmbDeletingItems+=el[1];nmbDecrisingCost+=el[1]*((_flowers$find=flowers.find(function(el){return el.id===item.id;}))===null||_flowers$find===void 0?void 0:_flowers$find.prise[\"option_\".concat(el[0])]);});return/*#__PURE__*/_jsxs(\"section\",{className:\"flower-assept__container--order__PositionContainer\",children:[/*#__PURE__*/_jsx(\"img\",{src:itemSearchSrt===null||itemSearchSrt===void 0?void 0:itemSearchSrt.img_src,alt:\"\"}),/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:itemSearchSrt===null||itemSearchSrt===void 0?void 0:itemSearchSrt.name}),/*#__PURE__*/_jsxs(\"article\",{children:[nmFlowersSrt==={}?/*#__PURE__*/_jsx(_Fragment,{}):nmFlowersSrt.map(function(element){if(quantitySrt[element]===0){return/*#__PURE__*/_jsx(_Fragment,{});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"flower-assept__container--order__PositionContainer--Info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[itemSearchSrt===null||itemSearchSrt===void 0?void 0:itemSearchSrt.options[\"option_\".concat(element)],\" - \",itemSearchSrt===null||itemSearchSrt===void 0?void 0:itemSearchSrt.prise[\"option_\".concat(element)],\"$\"]},itemSearchSrt===null||itemSearchSrt===void 0?void 0:itemSearchSrt.options[\"option_\".concat(element)]),/*#__PURE__*/_jsxs(\"span\",{children:[\"x\",quantitySrt[element]]})]},element);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"flower-assept__container--order__PositionContainer--Total\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Items - x\",nmbDeletingItems]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Cost - \",nmbDecrisingCost.toFixed(2),\"$ \"]})]})]})]})]},item.id);})}),/*#__PURE__*/_jsx(\"div\",{children:\"Cart cost: \".concat(cartValue.cartCost.toFixed(2),\"$\")}),/*#__PURE__*/_jsx(\"div\",{className:\"flower-assept__container--buttonHolder\",children:/*#__PURE__*/_jsx(\"button\",{onClick:toggleButtonAsseptOrder,children:\"Assept order\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"closeButton\",onClick:toggleButtonClose})]})});};","map":{"version":3,"names":["React","CartItemsContext","ObjectContext","flowers","useState","useContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ConfirmPage","_useContext","setSmrOpenTrue","cartValue","_useContext2","cartRender","_useState","_useState2","_slicedToArray","scrollTopProve","setScrollTopProve","_useState3","_useState4","scrollDownProve","setScrollDownProve","toggleButtonClose","prev","toggleButtonAsseptOrder","document","querySelector","showModal","toggleOrderScroll","e","htmlFontSize","bottomOfScroll","parseInt","window","getComputedStyle","getPropertyValue","length","target","scrollTop","className","children","onScroll","map","item","quantitySrt","quantity","itemSearchSrt","find","it","id","nmFlowersSrt","Object","keys","nmbDeletingItems","nmbDecrisingCost","entries","forEach","el","_flowers$find","prise","concat","src","img_src","alt","name","element","options","toFixed","cartCost","onClick"],"sources":["E:/Sites/react/Flowers-shop-PrzyGoDa-/src/components/render/confirmPage/ConfirmPage.js"],"sourcesContent":["import React from \"react\";\r\nimport { CartItemsContext } from \"../../../context/CartContext\";\r\nimport { ObjectContext } from \"../../../context/ObjectContext\";\r\nimport flowers from \"../../flowerslist/flowersList\";\r\nimport { useState, useContext } from \"react\";\r\n\r\nexport const ConfirmPage = () => {\r\n  const { setSmrOpenTrue, cartValue } = useContext(CartItemsContext);\r\n  const { cartRender } = useContext(ObjectContext);\r\n  const [scrollTopProve, setScrollTopProve] = useState(true);\r\n  const [scrollDownProve, setScrollDownProve] = useState(false);\r\n\r\n  const toggleButtonClose = () => {\r\n    setSmrOpenTrue((prev) => !prev);\r\n  };\r\n\r\n  const toggleButtonAsseptOrder = () => {\r\n    document.querySelector(\"dialog\").showModal();\r\n    toggleButtonClose();\r\n  };\r\n\r\n  const toggleOrderScroll = (e) => {\r\n    const htmlFontSize = document.querySelector(\"html\");\r\n    const bottomOfScroll =\r\n      parseInt(\r\n        window\r\n          .getComputedStyle(htmlFontSize, null)\r\n          .getPropertyValue(\"font-size\")\r\n      ) *\r\n      20 *\r\n      (cartRender.length - 1);\r\n\r\n    e.target.scrollTop <= 20\r\n      ? setScrollTopProve(true)\r\n      : setScrollTopProve(false);\r\n\r\n    e.target.scrollTop >= bottomOfScroll\r\n      ? setScrollDownProve(true)\r\n      : setScrollDownProve(false);\r\n  };\r\n\r\n  return (\r\n    <section className=\"flower-assept\">\r\n      <div\r\n        className=\"flower-assept__container\"\r\n        data-length_proove={cartRender.length > 1 ? true : false}\r\n        data-ontop={scrollTopProve}\r\n        data-onbottom={scrollDownProve}\r\n      >\r\n        <h2>Asseption page</h2>\r\n        <section\r\n          className=\"flower-assept__container--order\"\r\n          onScroll={toggleOrderScroll}\r\n        >\r\n          {cartRender.map((item) => {\r\n            const quantitySrt = item.quantity;\r\n            const itemSearchSrt = flowers.find((it) => it.id === item.id);\r\n            const nmFlowersSrt = Object.keys(quantitySrt || {});\r\n\r\n            let nmbDeletingItems = 0;\r\n            let nmbDecrisingCost = 0;\r\n\r\n            Object.entries(quantitySrt).forEach((el) => {\r\n              nmbDeletingItems += el[1];\r\n              nmbDecrisingCost +=\r\n                el[1] *\r\n                flowers.find((el) => el.id === item.id)?.prise[\r\n                  `option_${el[0]}`\r\n                ];\r\n            });\r\n\r\n            return (\r\n              <section\r\n                key={item.id}\r\n                className=\"flower-assept__container--order__PositionContainer\"\r\n              >\r\n                <img src={itemSearchSrt?.img_src} alt=\"\" />\r\n                <article>\r\n                  <h3>{itemSearchSrt?.name}</h3>\r\n                  <article>\r\n                    {nmFlowersSrt === {} ? (\r\n                      <></>\r\n                    ) : (\r\n                      nmFlowersSrt.map((element) => {\r\n                        if (quantitySrt[element] === 0) {\r\n                          return <></>;\r\n                        } else {\r\n                          return (\r\n                            <div\r\n                              key={element}\r\n                              className=\"flower-assept__container--order__PositionContainer--Info\"\r\n                            >\r\n                              <span\r\n                                key={\r\n                                  itemSearchSrt?.options[`option_${element}`]\r\n                                }\r\n                              >\r\n                                {itemSearchSrt?.options[`option_${element}`]}\r\n                                {\" - \"}\r\n                                {itemSearchSrt?.prise[`option_${element}`]}$\r\n                              </span>\r\n                              <span>x{quantitySrt[element]}</span>\r\n                            </div>\r\n                          );\r\n                        }\r\n                      })\r\n                    )}\r\n                    <div className=\"flower-assept__container--order__PositionContainer--Total\">\r\n                      <h3>Total:</h3>\r\n                      <span>Items - x{nmbDeletingItems}</span>\r\n                      <div>Cost - {nmbDecrisingCost.toFixed(2)}$ </div>\r\n                    </div>\r\n                  </article>\r\n                </article>\r\n              </section>\r\n            );\r\n          })}\r\n        </section>\r\n        <div>{`Cart cost: ${cartValue.cartCost.toFixed(2)}$`}</div>\r\n        <div className=\"flower-assept__container--buttonHolder\">\r\n          <button onClick={toggleButtonAsseptOrder}>Assept order</button>\r\n        </div>\r\n        <div className=\"closeButton\" onClick={toggleButtonClose}></div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}