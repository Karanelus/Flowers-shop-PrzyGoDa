{"ast":null,"code":"import React,{useContext}from\"react\";import flowers from\"../../flowerslist/flowersList\";import{CART_RENDER_ACTION_TYPE}from\"../../../redusers/cartOrderRender\";import{ObjectContext}from\"../../../context/ObjectContext\";import{CartItemsContext}from\"../../../context/CartContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FlowerCartSummary=function FlowerCartSummary(){var _useContext=useContext(CartItemsContext),cartValue=_useContext.cartValue,setCartValue=_useContext.setCartValue;var _useContext2=useContext(ObjectContext),cartRender=_useContext2.cartRender,dispatchRender=_useContext2.dispatchRender;return cartRender.map(function(item){var quantitySrt=item.quantity;var itemSearchSrt=flowers.find(function(it){return it.id===item.id;});var nmFlowersSrt=Object.keys(quantitySrt||{});var nmbItemsCount=0;var nmbItemCost=0;Object.entries(quantitySrt).forEach(function(el){var _flowers$find;nmbItemsCount+=el[1];nmbItemCost+=el[1]*((_flowers$find=flowers.find(function(el){return el.id===item.id;}))===null||_flowers$find===void 0?void 0:_flowers$find.prise[\"option_\".concat(el[0])]);});var onToggleRemoveButton=function onToggleRemoveButton(){var nmbDeletingItems=0;var nmbDecrisingCost=0;Object.entries(quantitySrt).forEach(function(el){var _flowers$find2;nmbDeletingItems+=el[1];nmbDecrisingCost+=el[1]*((_flowers$find2=flowers.find(function(el){return el.id===item.id;}))===null||_flowers$find2===void 0?void 0:_flowers$find2.prise[\"option_\".concat(el[0])]);});setCartValue({cartItem:cartValue.cartItem-nmbDeletingItems,cartCost:cartValue.cartCost-nmbDecrisingCost});dispatchRender({type:CART_RENDER_ACTION_TYPE.REMOVE_POSITION,id:item.id});};return/*#__PURE__*/_jsxs(\"section\",{className:\"Flowers__Cart--Summary__PositionContainer\",children:[/*#__PURE__*/_jsx(\"img\",{src:itemSearchSrt===null||itemSearchSrt===void 0?void 0:itemSearchSrt.img_src,alt:\"\"}),/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"div\",{children:itemSearchSrt===null||itemSearchSrt===void 0?void 0:itemSearchSrt.name})}),/*#__PURE__*/_jsxs(\"span\",{children:[nmFlowersSrt==={}?/*#__PURE__*/_jsx(_Fragment,{}):nmFlowersSrt.map(function(element){if(quantitySrt[element]===0){return/*#__PURE__*/_jsx(_Fragment,{});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"Flowers__Cart--Summary__PositionContainer--Info\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[itemSearchSrt===null||itemSearchSrt===void 0?void 0:itemSearchSrt.options[\"option_\".concat(element)],\" - \",itemSearchSrt===null||itemSearchSrt===void 0?void 0:itemSearchSrt.prise[\"option_\".concat(element)],\"$\"]},itemSearchSrt===null||itemSearchSrt===void 0?void 0:itemSearchSrt.options[\"option_\".concat(element)]),/*#__PURE__*/_jsxs(\"span\",{children:[\"x\",quantitySrt[element]]})]},element);}}),/*#__PURE__*/_jsxs(\"div\",{className:\"Flowers__Cart--Summary__PositionContainer--Total\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Items - x\",nmbItemsCount]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Cost - \",nmbItemCost.toFixed(2),\"$ \"]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Flowers__Cart--Summary__PositionContainer--CloseButton\",onClick:onToggleRemoveButton})]},item.id);});};","map":{"version":3,"names":["React","useContext","flowers","CART_RENDER_ACTION_TYPE","ObjectContext","CartItemsContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","FlowerCartSummary","_useContext","cartValue","setCartValue","_useContext2","cartRender","dispatchRender","map","item","quantitySrt","quantity","itemSearchSrt","find","it","id","nmFlowersSrt","Object","keys","nmbItemsCount","nmbItemCost","entries","forEach","el","_flowers$find","prise","concat","onToggleRemoveButton","nmbDeletingItems","nmbDecrisingCost","_flowers$find2","cartItem","cartCost","type","REMOVE_POSITION","className","children","src","img_src","alt","name","element","options","toFixed","onClick"],"sources":["E:/Sites/react/Flowers-shop-PrzyGoDa-/src/components/render/cart/FlowerCartSummary.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport flowers from \"../../flowerslist/flowersList\";\r\nimport { CART_RENDER_ACTION_TYPE } from \"../../../redusers/cartOrderRender\";\r\nimport { ObjectContext } from \"../../../context/ObjectContext\";\r\nimport { CartItemsContext } from \"../../../context/CartContext\";\r\n\r\nexport const FlowerCartSummary = () => {\r\n  const { cartValue, setCartValue } = useContext(CartItemsContext);\r\n  const { cartRender, dispatchRender } = useContext(ObjectContext);\r\n\r\n  return cartRender.map((item) => {\r\n    const quantitySrt = item.quantity;\r\n    const itemSearchSrt = flowers.find((it) => it.id === item.id);\r\n    const nmFlowersSrt = Object.keys(quantitySrt || {});\r\n\r\n    let nmbItemsCount = 0;\r\n    let nmbItemCost = 0;\r\n\r\n    Object.entries(quantitySrt).forEach((el) => {\r\n      nmbItemsCount += el[1];\r\n      nmbItemCost +=\r\n        el[1] *\r\n        flowers.find((el) => el.id === item.id)?.prise[`option_${el[0]}`];\r\n    });\r\n\r\n    const onToggleRemoveButton = () => {\r\n      let nmbDeletingItems = 0;\r\n      let nmbDecrisingCost = 0;\r\n\r\n      Object.entries(quantitySrt).forEach((el) => {\r\n        nmbDeletingItems += el[1];\r\n        nmbDecrisingCost +=\r\n          el[1] *\r\n          flowers.find((el) => el.id === item.id)?.prise[`option_${el[0]}`];\r\n      });\r\n\r\n      setCartValue({\r\n        cartItem: cartValue.cartItem - nmbDeletingItems,\r\n        cartCost: cartValue.cartCost - nmbDecrisingCost,\r\n      });\r\n\r\n      dispatchRender({\r\n        type: CART_RENDER_ACTION_TYPE.REMOVE_POSITION,\r\n        id: item.id,\r\n      });\r\n    };\r\n\r\n    return (\r\n      <section\r\n        key={item.id}\r\n        className=\"Flowers__Cart--Summary__PositionContainer\"\r\n      >\r\n        <img src={itemSearchSrt?.img_src} alt=\"\" />\r\n        <article>\r\n          <span>\r\n            <div>{itemSearchSrt?.name}</div>\r\n          </span>\r\n          <span>\r\n            {nmFlowersSrt === {} ? (\r\n              <></>\r\n            ) : (\r\n              nmFlowersSrt.map((element) => {\r\n                if (quantitySrt[element] === 0) {\r\n                  return <></>;\r\n                } else {\r\n                  return (\r\n                    <div\r\n                      key={element}\r\n                      className=\"Flowers__Cart--Summary__PositionContainer--Info\"\r\n                    >\r\n                      <span key={itemSearchSrt?.options[`option_${element}`]}>\r\n                        {itemSearchSrt?.options[`option_${element}`]}\r\n                        {\" - \"}\r\n                        {itemSearchSrt?.prise[`option_${element}`]}$\r\n                      </span>\r\n                      <span>x{quantitySrt[element]}</span>\r\n                    </div>\r\n                  );\r\n                }\r\n              })\r\n            )}\r\n            <div className=\"Flowers__Cart--Summary__PositionContainer--Total\">\r\n              <div>\r\n                <span>Total:</span>\r\n                <span>Items - x{nmbItemsCount}</span>\r\n              </div>\r\n              <div>Cost - {nmbItemCost.toFixed(2)}$ </div>\r\n            </div>\r\n          </span>\r\n        </article>\r\n        <div\r\n          className=\"Flowers__Cart--Summary__PositionContainer--CloseButton\"\r\n          onClick={onToggleRemoveButton}\r\n        ></div>\r\n      </section>\r\n    );\r\n  });\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}