{"ast":null,"code":"import _slicedToArray from\"E:/Sites/react/Flowers-shop-PrzyGoDa-/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext}from\"react\";import{CartItemsContext}from\"../../../context/CartContext\";import{FlowerCartAddress}from\"./FlowerCartAddress\";import{FlowerCartSummary}from\"./FlowerCartSummary\";import{ObjectContext}from\"../../../context/ObjectContext\";import{CART_RENDER_ACTION_TYPE}from\"../../../redusers/cartOrderRender\";import{FlowerCartAlertMessage}from\"./FlowerCartAlertMessage\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FlowerCart=function FlowerCart(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),alarmProver=_useState2[0],setAlarmProver=_useState2[1];var _useContext=useContext(CartItemsContext),cartValue=_useContext.cartValue,setCartValue=_useContext.setCartValue,setSmrOpenTrue=_useContext.setSmrOpenTrue;var _useContext2=useContext(ObjectContext),cartRender=_useContext2.cartRender,dispatchRender=_useContext2.dispatchRender,deliveryInfoReduser=_useContext2.deliveryInfoReduser;var fillPoleProver;fillPoleProver=Object.entries(deliveryInfoReduser).some(function(item){return item[1]===\"\";});var timeOpenComponent=function timeOpenComponent(){if(!alarmProver){setAlarmProver(function(prev){return!prev;});setTimeout(function(){return setAlarmProver(function(prev){return!prev;});},5000);}};var toggleButtonConfirmingOrder=function toggleButtonConfirmingOrder(){!cartRender.length||fillPoleProver?timeOpenComponent():setSmrOpenTrue(function(prev){return!prev;});};var toggleButtonOrderToZero=function toggleButtonOrderToZero(){setCartValue({cartItem:0,cartCost:0});dispatchRender({type:CART_RENDER_ACTION_TYPE.ZEROING_CART});};return/*#__PURE__*/_jsxs(\"section\",{className:\"Flowers__Cart\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Flowers__Cart--Title\",children:\"Your order: Summary\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Flowers__Cart--Summary\",children:/*#__PURE__*/_jsx(FlowerCartSummary,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"Flowers__Cart--Title\",children:\"Order info\"}),/*#__PURE__*/_jsx(FlowerCartAddress,{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"article\",{children:cartValue.cartItem===0?\"You ordered nothing\":\"Total items: \".concat(cartValue.cartItem)}),/*#__PURE__*/_jsxs(\"article\",{children:[\"Total cost: \",cartValue.cartCost.toFixed(2),\"$\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleButtonConfirmingOrder,children:\"Confirm order\"}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleButtonOrderToZero,children:\"Zeroing order\"}),alarmProver&&/*#__PURE__*/_jsx(FlowerCartAlertMessage,{})]})]});};","map":{"version":3,"names":["React","useContext","CartItemsContext","FlowerCartAddress","FlowerCartSummary","ObjectContext","CART_RENDER_ACTION_TYPE","FlowerCartAlertMessage","useState","jsx","_jsx","jsxs","_jsxs","FlowerCart","_useState","_useState2","_slicedToArray","alarmProver","setAlarmProver","_useContext","cartValue","setCartValue","setSmrOpenTrue","_useContext2","cartRender","dispatchRender","deliveryInfoReduser","fillPoleProver","Object","entries","some","item","timeOpenComponent","prev","setTimeout","toggleButtonConfirmingOrder","length","toggleButtonOrderToZero","cartItem","cartCost","type","ZEROING_CART","className","children","concat","toFixed","onClick"],"sources":["E:/Sites/react/Flowers-shop-PrzyGoDa-/src/components/render/cart/FlowerCart.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { CartItemsContext } from \"../../../context/CartContext\";\r\nimport { FlowerCartAddress } from \"./FlowerCartAddress\";\r\nimport { FlowerCartSummary } from \"./FlowerCartSummary\";\r\nimport { ObjectContext } from \"../../../context/ObjectContext\";\r\nimport { CART_RENDER_ACTION_TYPE } from \"../../../redusers/cartOrderRender\";\r\nimport { FlowerCartAlertMessage } from \"./FlowerCartAlertMessage\";\r\nimport { useState } from \"react\";\r\n\r\nexport const FlowerCart = () => {\r\n  const [alarmProver, setAlarmProver] = useState(false);\r\n  const { cartValue, setCartValue, setSmrOpenTrue } =\r\n    useContext(CartItemsContext);\r\n  const { cartRender, dispatchRender, deliveryInfoReduser } =\r\n    useContext(ObjectContext);\r\n\r\n  let fillPoleProver;\r\n\r\n  fillPoleProver = Object.entries(deliveryInfoReduser).some((item) => {\r\n    return item[1] === \"\";\r\n  });\r\n\r\n  const timeOpenComponent = () => {\r\n    if (!alarmProver) {\r\n      setAlarmProver((prev) => !prev);\r\n      setTimeout(() => setAlarmProver((prev) => !prev), 5000);\r\n    }\r\n  };\r\n\r\n  const toggleButtonConfirmingOrder = () => {\r\n    !cartRender.length || fillPoleProver\r\n      ? timeOpenComponent()\r\n      : setSmrOpenTrue((prev) => !prev);\r\n  };\r\n\r\n  const toggleButtonOrderToZero = () => {\r\n    setCartValue({ cartItem: 0, cartCost: 0 });\r\n    dispatchRender({\r\n      type: CART_RENDER_ACTION_TYPE.ZEROING_CART,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <section className=\"Flowers__Cart\">\r\n      <div className=\"Flowers__Cart--Title\">Your order: Summary</div>\r\n      <div className=\"Flowers__Cart--Summary\">\r\n        <FlowerCartSummary />\r\n      </div>\r\n      <div className=\"Flowers__Cart--Title\">Order info</div>\r\n      <FlowerCartAddress />\r\n      <div>\r\n        <article>\r\n          {cartValue.cartItem === 0\r\n            ? `You ordered nothing`\r\n            : `Total items: ${cartValue.cartItem}`}\r\n        </article>\r\n        <article>Total cost: {cartValue.cartCost.toFixed(2)}$</article>\r\n        <button onClick={toggleButtonConfirmingOrder}>Confirm order</button>\r\n        <button onClick={toggleButtonOrderToZero}>Zeroing order</button>\r\n        {alarmProver && <FlowerCartAlertMessage />}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}